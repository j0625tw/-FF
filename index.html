<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>哪夠呀・NAGOYA 2025</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root { --base: #F5F2ED; --accent: #8C7355; --text: #4A443F; }
        body { background-color: var(--base); color: var(--text); font-family: -apple-system, "Noto Sans TC", sans-serif; -webkit-tap-highlight-color: transparent; }
        .spot-card { background: white; border-radius: 20px; box-shadow: 0 4px 15px rgba(140, 115, 85, 0.05); border-left: 5px solid var(--accent); margin-bottom: 16px; transition: transform 0.1s; }
        .spot-card:active { transform: scale(0.97); background-color: #fdfcfb; }
        .floating-nav { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); width: 92%; max-width: 450px; background: rgba(255,255,255,0.98); backdrop-filter: blur(10px); border-radius: 50px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); z-index: 100; border: 1px solid rgba(140,115,85,0.1); }
        .date-btn { transition: all 0.2s; -webkit-appearance: none; }
        .date-btn.active { background: var(--accent); color: white; transform: scale(1.05); box-shadow: 0 4px 10px rgba(140, 115, 85, 0.3); }
        .tag-pill { font-size: 10px; padding: 2px 8px; border-radius: 6px; background: #f0ede9; color: #8C7355; font-weight: bold; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .nav-item { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 8px 0; cursor: pointer; }
        .nav-item i { font-size: 1.2rem; margin-bottom: 2px; }
        .nav-item span { font-size: 10px; font-weight: bold; }
    </style>
</head>
<body class="pb-32">

    <header class="pt-8 px-6 mb-4 flex justify-between items-end">
        <div>
            <h1 class="text-3xl font-black text-[#8C7355] tracking-tight italic">NAGOYA</h1>
            <p class="text-[10px] tracking-[0.2em] text-gray-400 font-bold uppercase">JX838 ✈️ JX839 | Winter Trip</p>
        </div>
        <div class="text-right">
            <p class="text-2xl font-light">6°C</p>
            <p class="text-[10px] text-gray-400">Nagoya, JP</p>
        </div>
    </header>

    <div class="px-6 mb-6">
        <div class="w-full h-44 rounded-[2.5rem] overflow-hidden shadow-lg border-4 border-white">
            <iframe id="map-frame" width="100%" height="100%" frameborder="0" src=""></iframe>
        </div>
    </div>

    <div class="flex overflow-x-auto px-6 space-x-3 mb-6 no-scrollbar" id="date-tabs"></div>

    <main id="app-content" class="px-6"></main>

    <nav class="floating-nav flex justify-around items-center">
        <div class="nav-item text-[#8C7355]" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
            <i class="fas fa-calendar-alt"></i>
            <span>行程</span>
        </div>
        <div class="nav-item text-gray-400" onclick="openDailyMap()">
            <i class="fas fa-map-marked-alt"></i>
            <span>導航</span>
        </div>
        <div class="nav-item text-gray-400" onclick="filterFood()">
            <i class="fas fa-utensils"></i>
            <span>美食</span>
        </div>
    </nav>

    <script>
        const itinerary = {
            "1221": { title: "Day 1：抵達名古屋", loc: "Nagoya", spots: [
                { time: "14:55", type: "交通", name: "桃園機場 (JX838)", desc: "星宇航空準時起飛", tags: ["出發"] },
                { time: "18:30", type: "交通", name: "中部國際機場", desc: "抵達後搭乘 μ-SKY 前往名古屋站", tags: ["μ-SKY"] },
                { time: "20:00", type: "酒店", name: "名古屋新幹線口大和ROYNET酒店", desc: "辦理入住寄放行李", tags: ["住宿"] },
                { time: "20:15", type: "食物", name: "金鯱橫丁", desc: "晚餐建議：味噌豬排、鰻魚飯", tags: ["必吃"] },
                { time: "21:30", type: "景點", name: "JR塔展望台", desc: "若體力足夠可看車站夜景", tags: ["夜景"] }
            ]},
            "1222": { title: "Day 2：犬山城巡禮", loc: "Inuyama", spots: [
                { time: "08:00", type: "交通", name: "名古屋站", desc: "出發前往犬山遊園站", tags: ["交通"] },
                { time: "08:30", type: "景點", name: "犬山城下町", desc: "老街散策、特色小吃與咖啡", tags: ["散步"] },
                { time: "09:30", type: "景點", name: "三光稻荷神社", desc: "洗錢祈福、紅色連綿鳥居", tags: ["參拜"] },
                { time: "10:15", type: "景點", name: "犬山城天守閣", desc: "登上國寶天守，全景眺望木曾川", tags: ["國寶"] },
                { time: "13:30", type: "購物", name: "大須商店街", desc: "名古屋著名的商店街美食與採購", tags: ["必逛"] },
                { time: "15:15", type: "景點", name: "Oasis 21", desc: "榮區地標：水之宇宙船與電視塔", tags: ["地標"] }
            ]},
            "1223": { title: "Day 3：飛驒高山古街", loc: "Takayama", spots: [
                { time: "07:45", type: "交通", name: "名古屋巴士總站", desc: "搭乘預約制濃飛巴士前往高山", tags: ["車資$3,100"] },
                { time: "10:30", type: "酒店", name: "eph TAKAYAMA", desc: "飯店寄存行李", tags: ["住宿"] },
                { time: "11:00", type: "景點", name: "高山陣屋", desc: "江戶時代留存至今的官署", tags: ["歷史"] },
                { time: "13:00", type: "景點", name: "上三之町", desc: "高山老街散策，品嚐飛驒牛小吃", tags: ["老街"] },
                { time: "18:00", type: "食物", name: "丸明 飛驒牛", desc: "晚餐：高品質飛驒牛料理", tags: ["必吃"] }
            ]},
            "1224": { title: "Day 4：白川鄉合掌村", loc: "Shirakawa-go", spots: [
                { time: "07:20", type: "交通", name: "高山濃飛巴士站", desc: "準時搭車前往白川鄉", tags: ["交通"] },
                { time: "09:00", type: "景點", name: "城山展望台", desc: "眺望童話般的合掌屋村落全景", tags: ["必看"] },
                { time: "11:30", type: "景點", name: "合掌村內遊覽", desc: "和田家參觀、村內靜謐散步", tags: ["散步"] },
                { time: "14:30", type: "交通", name: "白川鄉巴士站", desc: "返回名古屋站 (預計17:16抵達)", tags: ["回程"] }
            ]},
            "1225": { title: "Day 5：吉卜力全日遊", loc: "Ghibli Park", spots: [
                { time: "08:00", type: "交通", name: "愛・地球博記念公園", desc: "東山線至藤之丘轉 Linimo 單軌", tags: ["交通"] },
                { time: "10:00", type: "活動", name: "動動力森林", desc: "尋找龍貓與森林美景", tags: ["預約制"] },
                { time: "14:00", type: "活動", name: "吉卜力大倉庫", desc: "所有吉卜力經典場景大集合", tags: ["核心展區"] },
                { time: "18:00", type: "購物", name: "名古屋站前百貨", desc: "晚餐與最後採購行程", tags: ["自由時間"] }
            ]},
            "1226": { title: "Day 6：最終採購", loc: "Nagoya", spots: [
                { time: "09:00", type: "景點", name: "熱田神宮", desc: "古老神宮參拜，沉澱心情", tags: ["參拜"] },
                { time: "10:45", type: "景點", name: "名古屋城", desc: "參觀宏偉的本丸御殿", tags: ["歷史"] },
                { time: "15:30", type: "交通", name: "名鐵名古屋站", desc: "搭乘最後一趟 μ-SKY 前往機場", tags: ["交通"] },
                { time: "19:40", type: "交通", name: "中部機場 (JX839)", desc: "星宇航空飛返桃園機場", tags: ["✈️ 歸途"] }
            ]}
        };

        let currentDay = "1221";

        function renderTabs() {
            const container = document.getElementById('date-tabs');
            container.innerHTML = Object.keys(itinerary).sort().map(day => `
                <button onclick="switchDay('${day}')" id="btn-${day}" 
                    class="date-btn flex-shrink-0 px-6 py-2.5 rounded-full bg-white shadow-sm text-sm font-bold ${currentDay === day ? 'active' : ''}">
                    ${day.slice(0,2)}/${day.slice(2)}
                </button>
            `).join('');
        }

        function switchDay(day) {
            currentDay = day;
            renderContent(itinerary[day]);
            document.querySelectorAll('.date-btn').forEach(b => b.classList.remove('active'));
            document.getElementById(`btn-${day}`).classList.add('active');
        }

        function renderContent(dayData) {
            const container = document.getElementById('app-content');
            document.getElementById('map-frame').src = `https://www.google.com/maps/embed/v1/search?key=YOUR_KEY_OPTIONAL&q=${encodeURIComponent(dayData.spots[0].name)}&zoom=14`.replace('YOUR_KEY_OPTIONAL','');
            // 注意：若無金鑰，改用預覽模式
            document.getElementById('map-frame').src = `https://maps.google.com/maps?q=${encodeURIComponent(dayData.spots[0].name)}&t=&z=14&ie=UTF8&iwloc=&output=embed`;

            container.innerHTML = `
                <div class="mb-4">
                    <h2 class="text-xl font-bold">${dayData.title}</h2>
                    <p class="text-[10px] text-[#8C7355] font-bold tracking-widest mt-1">NAGOYA WINTER 2025</p>
                </div>
                ${dayData.spots.map(spot => `
                    <div class="spot-card p-5" onclick="window.open('https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(spot.name)}')">
                        <div class="flex justify-between items-start">
                            <div class="flex-1">
                                <span class="text-[9px] bg-stone-100 text-[#8C7355] px-2 py-0.5 rounded font-bold uppercase tracking-wider">${spot.type}</span>
                                <h3 class="text-base font-bold text-gray-800 mt-1">${spot.name}</h3>
                                <p class="text-[12px] text-gray-500 mt-1 leading-snug">${spot.desc}</p>
                            </div>
                            <div class="text-right ml-4">
                                <span class="text-sm font-black text-[#8C7355] font-mono">${spot.time}</span>
                            </div>
                        </div>
                        <div class="mt-3 flex flex-wrap gap-1">
                            ${spot.tags.map(t => `<span class="tag-pill">#${t}</span>`).join('')}
                        </div>
                    </div>
                `).join('')}
            `;
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // 功能函數
        function openDailyMap() {
            const currentSpots = itinerary[currentDay].spots;
            window.open(`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(currentSpots[0].name)}`);
        }

        function filterFood() {
            const container = document.getElementById('app-content');
            const foodSpots = itinerary[currentDay].spots.filter(s => s.type === "食物");
            if(foodSpots.length === 0) {
                alert("本日行程目前沒有預設餐廳，去探索看看吧！");
                return;
            }
            // 簡單篩選效果
            renderContent({title: `Day ${currentDay.slice(-1)} 美食精選`, spots: foodSpots});
        }

        renderTabs();
        renderContent(itinerary[currentDay]);
    </script>
</body>
</html>
